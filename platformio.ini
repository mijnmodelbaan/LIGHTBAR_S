; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html


[platformio]
src_dir           = .
build_dir         = .pioenvs
build_cache_dir   = .cache
include_dir       = include
lib_dir           = lib
;------------------------------------------------------


[env]
monitor_speed     = 115200
monitor_flags     = --echo

platform          = atmelavr
board             =      uno
framework         =  arduino

lib_ldf_mode      = deep
lib_compat_mode   = strict
;------------------------------------------------------


[env:UNO_3B]
lib_ldf_mode      = deep
lib_deps          =
                    NmraDcc
                    SoftPWM

extra_scripts     = pre:adjust_src_dir.py
custom_option1    = \LIGHTBAR_36\

build_flags       = -D XX_DEBUGGR
;------------------------------------------------------


[env:UNO_T1]
lib_ldf_mode      = deep
lib_deps          =

extra_scripts     = pre:adjust_src_dir.py
custom_option1    = \LIGHTBAR_T1\

build_flags       = -D XX_DEBUGGR
;------------------------------------------------------


[env:UNO_T2]
lib_ldf_mode      = deep
lib_deps          =
                    SoftPWM
                    TaskScheduler

extra_scripts     = pre:adjust_src_dir.py
custom_option1    = \LIGHTBAR_T2\

build_flags       = -D XX_DEBUGGR
;------------------------------------------------------


[env:UNO_T3]
lib_ldf_mode      = deep
lib_deps          = 
                    DCC_Decoder

extra_scripts     = pre:adjust_src_dir.py
custom_option1    = \LIGHTBAR_T3\
;------------------------------------------------------


[env:UNO_T4]
lib_ldf_mode      = deep
lib_deps          = 
                    DCC_Decoder

extra_scripts     = pre:adjust_src_dir.py
custom_option1    = \LIGHTBAR_T4\

build_flags       = -D_DEBUG_, -D_6LAMP_
;------------------------------------------------------


[env:UNO_T5]
lib_ldf_mode      = deep
lib_deps          = 
                    DCC_Decoder
                    EEPROM

extra_scripts     = pre:adjust_src_dir.py
custom_option1    = \LIGHTBAR_T5\
;------------------------------------------------------


[env:AT8_3B]
platform          = atmelavr
board             =  ATmega8
framework         =  arduino

lib_ldf_mode      = deep
lib_deps          =
                    NmraDcc
                    SoftPWM

extra_scripts     = pre:adjust_src_dir.py
custom_option1    = \LIGHTBAR_36\
;------------------------------------------------------


[env:AT8_T1]
platform          = atmelavr
board             =  ATmega8
framework         =  arduino

lib_ldf_mode      = deep
lib_deps          =
#                     NmraDcc
#                     SoftPWM

extra_scripts     = pre:adjust_src_dir.py
custom_option1    = \LIGHTBAR_T1\
;------------------------------------------------------


[env:AT8_T2]
platform          = atmelavr
board             =  ATmega8
framework         =  arduino

lib_ldf_mode      = deep
lib_deps          =
                    SoftPWM
                    TaskScheduler

extra_scripts     = pre:adjust_src_dir.py
custom_option1    = \LIGHTBAR_T2\

build_flags       = -D XX_DEBUGGR
;------------------------------------------------------


[env:AT8_T3]
platform          = atmelavr
board             =  ATmega8
framework         =  arduino

lib_ldf_mode      = deep
lib_deps          = 
                    DCC_Decoder

extra_scripts     = pre:adjust_src_dir.py
custom_option1    = \LIGHTBAR_T3\
;------------------------------------------------------


[env:AT8_T4]
platform          = atmelavr
board             =  ATmega8
framework         =  arduino

lib_ldf_mode      = deep
lib_deps          = 
                    DCC_Decoder

extra_scripts     = pre:adjust_src_dir.py
custom_option1    = \LIGHTBAR_T4\

build_flags       = -D_DEBUG_, -D_6LAMP_
;------------------------------------------------------


[env:AT8_T5]
platform          = atmelavr
board             =  ATmega8
framework         =  arduino

lib_ldf_mode      = deep
lib_deps          = 
                    DCC_Decoder
                    EEPROM

extra_scripts     = pre:adjust_src_dir.py
custom_option1    = \LIGHTBAR_T5\
;------------------------------------------------------
